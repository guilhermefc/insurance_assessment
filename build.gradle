/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
	id 'java'
	id 'com.diffplug.spotless' version '5.9.0'
	id 'org.springframework.boot' version '2.2.4.RELEASE'
	id 'io.spring.dependency-management' version '1.0.9.RELEASE'
}

repositories {
	mavenLocal()
	maven {
		url = uri('https://repo.maven.apache.org/maven2/')
	}
}

dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-web:2.5.2'
	implementation 'org.springframework.boot:spring-boot-starter-validation:2.5.2'
	testImplementation 'org.springframework.boot:spring-boot-starter-test:2.5.2'
	testImplementation 'com.github.tomakehurst:wiremock-jre8:2.29.0'
	testImplementation 'org.jmockit:jmockit:1.49'
}

compileJava.inputs.files(processResources)

test {
	useJUnitPlatform()
	systemProperties['spring.profiles.active'] = 'test'
	jvmArgs "-javaagent:${classpath.find { it.name.contains("jmockit") }.absolutePath}"
}



spotless {
	java {
		removeUnusedImports()
		trimTrailingWhitespace()
		endWithNewline()
	}
	groovyGradle {
		target '*.gradle', 'gradle/*.gradle'
		trimTrailingWhitespace()
		endWithNewline()
		greclipse()
	}
}


group = 'guicarneiro.com'
version = '0.0.1-SNAPSHOT'
description = 'origin'
java.sourceCompatibility = JavaVersion.VERSION_1_8

tasks.withType(JavaCompile) {
	options.encoding = 'UTF-8'
}
